{"version":3,"file":"static/js/Reviews.ce3f48e0.chunk.js","mappings":"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","sources":["components/BadRequest/BadRequest.styled.js","components/BadRequest/BadRequest.jsx","components/Reviews/Reviews.styled.js","components/Reviews/Reviews.jsx","hooks/useMovieData.js","services/api/api.js","services/notifications/notifications.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  margin-top: 30px;\n  margin-left: 30px;\n  width: 350px;\n`;\n\nexport const ErrorMessage = styled.p`\n  margin-top: 20px;\n\n  font-size: 20px;\n`;\n","import PropTypes from 'prop-types';\n\nimport { Wrapper, ErrorMessage } from './BadRequest.styled';\nimport movieNotFound from 'images/movie_not_found.jpg';\n\nfunction BadRequest({ error }) {\n  return (\n    <Wrapper>\n      <img src={movieNotFound} alt=\"Movie not found.jpg\" />\n      <ErrorMessage>\n        {error ?? 'Sorry, your query returned no matches.'}\n      </ErrorMessage>\n    </Wrapper>\n  );\n}\n\nexport default BadRequest;\n\nBadRequest.propTypes = {\n  error: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const ListReviews = styled.ul`\n  padding: 30px;\n`;\n\nexport const ItemReview = styled.li`\n  &:not(:last-child) {\n    margin-bottom: 20px;\n  }\n`;\n\nexport const Author = styled.h2`\n  margin-bottom: 20px;\n`;\n","import Loader from 'components/Loader';\nimport BadRequest from 'components/BadRequest';\n\nimport { useMovieData } from 'hooks';\n\nimport { ListReviews, ItemReview, Author } from './Reviews.styled';\n\nfunction Reviews() {\n  const [movieInfo, visible, error] = useMovieData('movieReviews');\n\n  const results = movieInfo ? movieInfo.results : null;\n\n  return (\n    <>\n      {visible && <Loader visible={visible} />}\n      {results?.length > 0 && (\n        <ListReviews>\n          {results.map(({ id, author, content }) => (\n            <ItemReview key={id}>\n              <Author>{`${author}`}</Author>\n              <p>{`${content}`}</p>\n            </ItemReview>\n          ))}\n        </ListReviews>\n      )}\n      {(results?.length === 0 || error) && (\n        <BadRequest\n          error={error ?? 'There are no reviews for this movie yet.'}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Reviews;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { getMovies } from 'services/api';\nimport { validationRequest, findMovies } from 'services/notifications';\n\nfunction useMovieData(action) {\n  const [movieInfo, setMovieInfo] = useState(null);\n  const [visible, setVisible] = useState(false);\n  const [error, setError] = useState(null);\n  const { slug } = useParams();\n\n  const movieId = slug ? slug.match(/[a-zA-Z0-9]+$/)[0] : null;\n\n  useEffect(() => {\n    const controller = new AbortController();\n    async function fetchData() {\n      try {\n        setVisible(true);\n        const data = await getMovies({\n          action: `${action}`,\n          movieId,\n          controller: { signal: controller.signal },\n        });\n\n        setMovieInfo({ ...data });\n        if (action === 'trending') {\n          findMovies('trending');\n        }\n      } catch (e) {\n        if (axios.isCancel(e)) {\n          return;\n        }\n        setError(e.message);\n        validationRequest(e.message);\n        setMovieInfo(null);\n      } finally {\n        setVisible(false);\n      }\n    }\n    fetchData();\n    return () => {\n      controller.abort();\n    };\n  }, [action, movieId]);\n  return [movieInfo, visible, error];\n}\n\nexport { useMovieData };\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst KEY = 'b5edf42d0c828c3abea97e9ad1ce315b';\n\nconst BASE_PARAMS = {\n  timeout: 5000,\n  params: {\n    language: 'en-US',\n    api_key: KEY,\n  },\n  headers: {\n    accept: 'application/json',\n  },\n};\n\nexport const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/';\n\nexport async function getMovies({\n  action,\n  movieId = null,\n  controller = {},\n  params = {},\n}) {\n  const searchParams = {\n    ...BASE_PARAMS,\n    params: { ...BASE_PARAMS.params, ...params },\n    ...controller,\n  };\n  const { data } = await axios.get(\n    `${BASE_URL}${searchEndpoint(action, movieId)}`,\n    searchParams\n  );\n  return data;\n}\n\nfunction searchEndpoint(action, id) {\n  switch (action) {\n    case 'trending':\n      return '/trending/movie/day';\n    case 'search':\n      return '/search/movie';\n    case 'movieDetails':\n      return `/movie/${id}`;\n    case 'movieCredits':\n      return `/movie/${id}/credits`;\n    case 'movieReviews':\n      return `/movie/${id}/reviews`;\n    default:\n      return;\n  }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst adaptiveFontSize =\n  Math.round(window.innerWidth * 0.0153) + 'px';\n\nconst messageOptions = {\n  timeout: 2500,\n  width: '30vw',\n  fontSize: adaptiveFontSize,\n  distance: '35px',\n  borderRadius: '10px',\n  cssAnimationStyle: 'zoom',\n};\nconst loadingOptions = {\n  svgSize: '160px',\n  svgColor: '#0000FF',\n};\n\nexport function findMovies(query) {\n  return Notify.success(\n    `Hooray! We found ${query} movies.`,\n    messageOptions\n  );\n}\n\nexport function validationRequest(\n  msg = 'Change search.Please try again.'\n) {\n  return Notify.failure(msg, messageOptions);\n}\n\nexport function showLoading() {\n  return Loading.hourglass(loadingOptions);\n}\n\nexport function loadingRemove() {\n  return Loading.remove();\n}\n"],"names":["Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","ErrorMessage","p","_templateObject2","_ref","error","_jsxs","children","_jsx","src","alt","ListReviews","ul","ItemReview","li","Author","h2","_templateObject3","_useMovieData","useMovieData","_useMovieData2","_slicedToArray","movieInfo","visible","results","_Fragment","Loader","length","map","id","author","content","concat","BadRequest","action","_useState","useState","_useState2","setMovieInfo","_useState3","_useState4","setVisible","_useState5","_useState6","setError","slug","useParams","movieId","match","useEffect","controller","AbortController","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","getMovies","signal","sent","_objectSpread","findMovies","t0","axios","isCancel","abrupt","message","validationRequest","finish","stop","apply","arguments","fetchData","abort","BASE_URL","BASE_PARAMS","timeout","params","language","api_key","headers","accept","IMAGE_BASE_URL","_x","_getMovies","_ref$movieId","_ref$controller","_ref$params","searchParams","_yield$axios$get","get","searchEndpoint","messageOptions","width","fontSize","Math","round","window","innerWidth","distance","borderRadius","cssAnimationStyle","loadingOptions","svgSize","svgColor","query","Notify","success","msg","undefined","failure","showLoading","Loading","hourglass","loadingRemove","remove"],"sourceRoot":""}