{"version":3,"file":"static/js/Cast.86ab0194.chunk.js","mappings":"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","sources":["components/BadRequest/BadRequest.styled.js","components/BadRequest/BadRequest.jsx","components/Cast/Cast.styled.js","components/Cast/Cast.jsx","services/api/api.js","services/notifications/notifications.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  margin-top: 30px;\n  margin-left: 30px;\n  width: 350px;\n`;\n\nexport const ErrorMessage = styled.p`\n  margin-top: 20px;\n\n  font-size: 20px;\n`;\n","import PropTypes from 'prop-types';\n\nimport { Wrapper, ErrorMessage } from './BadRequest.styled';\nimport movieNotFound from 'images/movie_not_found.jpg';\n\nfunction BadRequest({ error }) {\n  return (\n    <Wrapper>\n      <img src={movieNotFound} alt=\"Movie not found.jpg\" />\n      <ErrorMessage>\n        {error ?? 'Sorry, your query returned no matches.'}\n      </ErrorMessage>\n    </Wrapper>\n  );\n}\n\nexport default BadRequest;\n\nBadRequest.propTypes = {\n  error: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const ListActors = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  gap: ${props => props.theme.spacings.gapGallery};\n`;\n\nexport const Actor = styled.li`\n  flex-basis: calc(\n    (100% - 6 * ${props => props.theme.spacings.gapGallery}) / 7\n  );\n\n  border: 1px solid lightgray;\n  border-radius: 6px;\n  overflow: hidden;\n\n  box-shadow: ${props => props.theme.shadow.mainShadow};\n`;\n\nexport const Poster = styled.div`\n  height: 300px;\n\n  background-color: ${props => props.theme.colors.primaryColor};\n`;\n\nexport const Image = styled.img`\n  height: 100%;\n  object-fit: cover;\n`;\n\nexport const Title = styled.p`\n  min-height: 40px;\n  padding: 10px;\n\n  background-color: #dbd9d3;\n\n  color: ${props => props.theme.colors.mainBlack};\n  font-weight: bold;\n  font-size: 14px;\n  text-align: center;\n`;\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nimport { getMovies, IMAGE_BASE_URL } from 'services/api';\nimport { validationRequest } from 'services/notifications';\n\nimport Loader from 'components/Loader';\nimport BadRequest from 'components/BadRequest';\n\nimport { ListActors, Actor, Poster, Image, Title } from './Cast.styled';\n\nimport defaultImage from 'images/no-photo.jpg';\n\nfunction Cast() {\n  const [actors, setActors] = useState(null);\n  const [visible, setVisible] = useState(false);\n  const [error, setError] = useState(null);\n  const { slug } = useParams();\n  const movieId = slug.match(/[a-zA-Z0-9]+$/)[0];\n\n  useEffect(() => {\n    const controller = new AbortController();\n    async function fetchData() {\n      try {\n        setVisible(true);\n        const { cast } = await getMovies({\n          action: 'movieCredits',\n          movieId,\n          controller: { signal: controller.signal },\n        });\n        setActors([...cast]);\n      } catch (e) {\n        if (axios.isCancel(e)) {\n          return;\n        }\n        setError(e.message);\n        validationRequest(e.message);\n        setActors([]);\n      } finally {\n        setVisible(false);\n      }\n    }\n    fetchData();\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <>\n      {visible && <Loader visible={visible} />}\n      {actors?.length > 0 && (\n        <ListActors>\n          {actors.map(({ id, profile_path, name }) => (\n            <Actor key={id}>\n              <Poster>\n                <Image\n                  src={\n                    profile_path\n                      ? `${IMAGE_BASE_URL}w200/${profile_path}`\n                      : defaultImage\n                  }\n                  alt={name}\n                />\n              </Poster>\n              <Title>{`${name}`}</Title>\n            </Actor>\n          ))}\n        </ListActors>\n      )}\n      {actors?.length === 0 && (\n        <BadRequest error={error ?? 'We have no information about the cast.'} />\n      )}\n    </>\n  );\n}\n\nexport default Cast;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst KEY = 'b5edf42d0c828c3abea97e9ad1ce315b';\n\nconst BASE_PARAMS = {\n  timeout: 5000,\n  params: {\n    language: 'en-US',\n    api_key: KEY,\n  },\n  headers: {\n    accept: 'application/json',\n  },\n};\n\nexport const IMAGE_BASE_URL = 'https://image.tmdb.org/t/p/';\n\nexport async function getMovies({\n  action,\n  movieId = null,\n  controller = {},\n  params = {},\n}) {\n  const searchParams = {\n    ...BASE_PARAMS,\n    params: { ...BASE_PARAMS.params, ...params },\n    ...controller,\n  };\n\n  const { data } = await axios.get(\n    `${BASE_URL}${searchEndpoint(action, movieId)}`,\n    searchParams\n  );\n\n  return data;\n}\n\nfunction searchEndpoint(action, id) {\n  switch (action) {\n    case 'trending':\n      return '/trending/movie/day';\n    case 'search':\n      return '/search/movie';\n    case 'movieDetails':\n      return `/movie/${id}`;\n    case 'movieCredits':\n      return `/movie/${id}/credits`;\n    case 'movieReviews':\n      return `/movie/${id}/reviews`;\n    default:\n      return;\n  }\n}\n","import { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport { Loading } from 'notiflix/build/notiflix-loading-aio';\n\nconst adaptiveFontSize =\n  Math.round(window.innerWidth * 0.0153) + 'px';\n\nconst messageOptions = {\n  timeout: 2500,\n  width: '30vw',\n  fontSize: adaptiveFontSize,\n  distance: '35px',\n  borderRadius: '10px',\n  cssAnimationStyle: 'zoom',\n};\nconst loadingOptions = {\n  svgSize: '160px',\n  svgColor: '#0000FF',\n};\n\nexport function findMovies(query) {\n  return Notify.success(\n    `Hooray! We found ${query} movies.`,\n    messageOptions\n  );\n}\n\nexport function validationRequest(\n  msg = 'Change search.Please try again.'\n) {\n  return Notify.failure(msg, messageOptions);\n}\n\nexport function showLoading() {\n  return Loading.hourglass(loadingOptions);\n}\n\nexport function loadingRemove() {\n  return Loading.remove();\n}\n"],"names":["Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","ErrorMessage","p","_templateObject2","_ref","error","_jsxs","children","_jsx","src","alt","ListActors","ul","props","theme","spacings","gapGallery","Actor","li","shadow","mainShadow","Poster","_templateObject3","colors","primaryColor","Image","img","_templateObject4","Title","_templateObject5","mainBlack","_useState","useState","_useState2","_slicedToArray","actors","setActors","_useState3","_useState4","visible","setVisible","_useState5","_useState6","setError","movieId","useParams","slug","match","useEffect","controller","AbortController","_fetchData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getMovies","cast","wrap","_context","prev","next","getMovies","action","signal","sent","_toConsumableArray","t0","axios","isCancel","abrupt","message","validationRequest","finish","stop","apply","arguments","fetchData","abort","_Fragment","Loader","length","map","id","profile_path","name","concat","IMAGE_BASE_URL","BadRequest","BASE_URL","BASE_PARAMS","timeout","params","language","api_key","headers","accept","_x","_getMovies","_ref$movieId","_ref$controller","_ref$params","searchParams","_yield$axios$get","data","_objectSpread","get","searchEndpoint","messageOptions","width","fontSize","Math","round","window","innerWidth","distance","borderRadius","cssAnimationStyle","loadingOptions","svgSize","svgColor","findMovies","query","Notify","success","msg","undefined","failure","showLoading","Loading","hourglass","loadingRemove","remove"],"sourceRoot":""}